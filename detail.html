<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Détails du Véhicule - Enchères Douanes Burkina Faso">
    <title>Détails du Véhicule | Enchères Douanes Burkina Faso</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/style.css">

    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header-main">
            <div class="container">
                <div class="header-inner">
                    <div class="logo">
                        <a href="index.html">
                            <img src="images/logo-banner.png" alt="Logo Douanes Burkina Faso">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Breadcrumb -->
    <div style="background: #f9f9f9; padding: 15px 0; border-bottom: 1px solid #eee;">
        <div class="container">
            <a href="index.html" style="color: var(--color-gray);">Accueil</a> <span
                style="margin: 0 10px; color: var(--color-gray);">></span>
            <a href="catalogue.html" style="color: var(--color-gray);">Catalogue</a> <span
                style="margin: 0 10px; color: var(--color-gray);">></span>
            <span style="color: var(--color-primary); font-weight: 600;" id="breadcrumb-name">Détails du Véhicule</span>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">

            <div class="detail-container">
                <!-- Left Column: Image & General Specs -->
                <div>
                    <div class="detail-image-gallery">
                        <!-- Main large image display -->
                        <div class="gallery-main-image">
                            <img id="gallery-current-image" src="" alt="Véhicule">

                            <!-- Navigation arrows -->
                            <button class="gallery-nav-btn gallery-prev" id="gallery-prev-btn"
                                    aria-label="Image précédente">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="gallery-nav-btn gallery-next" id="gallery-next-btn"
                                    aria-label="Image suivante">
                                <i class="fas fa-chevron-right"></i>
                            </button>

                            <!-- Image counter -->
                            <div class="gallery-counter">
                                <span id="gallery-current-index">1</span> /
                                <span id="gallery-total-images">1</span>
                            </div>
                        </div>

                        <!-- Thumbnail strip -->
                        <div class="gallery-thumbnails" id="gallery-thumbnails">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>

                    <div class="detail-info-box" style="margin-top: 30px;">
                        <h3 style="border-bottom: 2px solid #eee; padding-bottom: 10px; margin-bottom: 20px;">
                            Caractéristiques Générales du Modèle</h3>
                        <table class="spec-table">
                            <tr>
                                <td class="spec-label">Années Modèle</td>
                                <td class="spec-value">2023 – 2025</td>
                            </tr>
                            <tr>
                                <td class="spec-label">Type de Moteur</td>
                                <td class="spec-value">Essence 1.5L</td>
                            </tr>
                            <tr>
                                <td class="spec-label">Transmission</td>
                                <td class="spec-value">Automatique (CVT)</td>
                            </tr>
                            <tr>
                                <td class="spec-label">Entraînement</td>
                                <td class="spec-value">Traction Avant (4x2 FWD)</td>
                            </tr>
                            <tr>
                                <td class="spec-label">Équipements Clés</td>
                                <td class="spec-value">Climatisation, Caméra de recul, Écran tactile 7 pouces</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <!-- Right Column: Specific Info & CTA -->
                <div>
                    <div class="detail-info-box">
                        <h1 id="vehicle-name"
                            style="font-size: 24px; color: var(--color-primary); margin-bottom: 10px;">Toyota Yaris 2023
                            (Hayon)</h1>
                        <div style="font-size: 14px; color: var(--color-gray); margin-bottom: 20px;">Lot #4829 •
                            Ouagadougou
                        </div>

                        <div
                            style="background: #f0f7ff; padding: 15px; border-radius: 5px; margin-bottom: 20px; border-left: 4px solid var(--color-primary);">
                            <div style="font-size: 14px; color: var(--color-gray);">Prix de Mise à Prix (Réel)</div>
                            <div style="font-size: 24px; font-weight: 700; color: var(--color-accent-green);">13,250,000
                                FCFA</div>
                        </div>

                        <table class="spec-table">
                            <tr>
                                <td class="spec-label">Kilométrage</td>
                                <td class="spec-value">5,200 km</td>
                            </tr>
                            <tr>
                                <td class="spec-label">État du Véhicule</td>
                                <td class="spec-value" style="color: var(--color-accent-green);">Grade B+ (Excellent)
                                </td>
                            </tr>
                            <tr>
                                <td class="spec-label">Carburant</td>
                                <td class="spec-value">Essence</td>
                            </tr>
                            <tr>
                                <td class="spec-label">Couleur Extérieure</td>
                                <td class="spec-value">Blanc Perle</td>
                            </tr>
                            <tr>
                                <td class="spec-label">Disponibilité</td>
                                <td class="spec-value">1 Unité</td>
                            </tr>
                        </table>

                        <div style="margin-top: 30px;">
                            <a href="inscription.html" class="btn-black-red"
                                style="display: block; text-align: center; margin-bottom: 15px; background-color: var(--color-accent-green); border-color: var(--color-accent-green);">Obtenir
                                ce Véhicule</a>
                            <a href="javascript:void(0)"
                                onclick="openAgentWhatsApp('Bonjour, je souhaite obtenir des informations sur les véhicules disponibles.')"
                                class="btn-detail-secondary"
                                style="display: block; text-align: center; background-color: var(--color-black); border-color: var(--color-black); color: var(--color-white);">Contacter
                                un Agent</a>
                        </div>
                    </div>

                    <div class="detail-info-box" style="margin-top: 30px;">
                        <h3 style="font-size: 18px; margin-bottom: 15px;">Documents & Rapport</h3>
                        <ul style="list-style: none;">
                            <li style="margin-bottom: 10px;">
                                <a href="#" style="display: flex; align-items: center; color: var(--color-text-dark);">
                                    <i class="fas fa-file-pdf"
                                        style="color: #ff0000; margin-right: 10px; font-size: 20px;"></i>
                                    Rapport de Condition Détaillé (PDF)
                                </a>
                            </li>
                            <li style="margin-bottom: 10px;">
                                <a href="#" style="display: flex; align-items: center; color: var(--color-text-dark);">
                                    <i class="fas fa-file-pdf"
                                        style="color: #ff0000; margin-right: 10px; font-size: 20px;"></i>
                                    Historique du VIN (PDF)
                                </a>
                            </li>
                        </ul>
                        <div
                            style="margin-top: 20px; background: #e8f5e9; color: #2e7d32; padding: 10px; border-radius: 5px; text-align: center; font-weight: 600;">
                            <i class="fas fa-check-circle"></i> Statut Douanier : Dédouané (Taxes Payées)
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- Scripts -->
    <script src="js/supabase-config.js"></script>
    <script src="js/agent-manager.js"></script>
    <script src="js/main.js"></script>
    <style>
        /* Mobile Layout Adjustments */
        @media (max-width: 768px) {
            .mobile-title {
                display: block !important;
                margin-bottom: 15px;
                font-size: 22px;
                font-weight: 700;
                color: var(--color-primary);
                text-align: center;
            }

            .desktop-title {
                display: none !important;
            }

            .vehicle-detail-price {
                font-size: 20px !important;
                /* Smaller on mobile */
            }
        }

        .mobile-title {
            display: none;
        }
    </style>

    <script>
        // Vehicle Data
        const vehicles = [
            {
                id: 1,
                name: "Toyota Hilux (Double Cab)",
                category: "Pick-up / Utilitaire",
                price: "3,500,000 FCFA",
                stock: 15,
                image: "images/hilux.jpg",
                imageFolder: "toyota-hilux",
                specs: { year: "2024", engine: "Diesel 2.8L", trans: "Automatique", drive: "4x4" },
                colors: ["Blanc", "Gris Argent", "Noir"],
                mileage: "1,500 - 8,000 km"
            },
            {
                id: 2,
                name: "Toyota Land Cruiser 300",
                category: "SUV 4x4 LUXUEUX",
                price: "6,000,000 FCFA",
                stock: 8,
                image: "images/land-cruiser.jpg",
                imageFolder: "toyota-land-cruiser-300",
                specs: { year: "2024", engine: "V6 Turbo Diesel", trans: "Automatique 10R", drive: "4x4 Permanent" },
                colors: ["Blanc Perle", "Noir"],
                mileage: "2,000 - 5,000 km"
            },
            {
                id: 3,
                name: "Toyota Prado TX",
                category: "SUV 4x4 LUXUEUX",
                price: "4,500,000 FCFA",
                stock: 6,
                image: "images/toyota_prado_tx.jpg",
                imageFolder: "toyota-prado",
                specs: { year: "2024", engine: "Diesel 2.8L", trans: "Automatique", drive: "4x4" },
                colors: ["Blanc", "Gris Foncé"],
                mileage: "3,000 - 9,000 km"
            },
            {
                id: 4,
                name: "Toyota Fortuner",
                category: "SUV",
                price: "3,800,000 FCFA",
                stock: 6,
                image: "images/fortuner.jpg",
                imageFolder: "toyota-fortuner",
                specs: { year: "2024", engine: "Diesel 2.8L", trans: "Automatique", drive: "4x4" },
                colors: ["Blanc", "Marron"],
                mileage: "1,200 - 6,500 km"
            },
            {
                id: 5,
                name: "Toyota RAV4",
                category: "Crossover Urbain",
                price: "3,200,000 FCFA",
                stock: 8,
                image: "images/rav4.jpg",
                imageFolder: "toyota-rav4",
                specs: { year: "2024", engine: "Essence 2.0L", trans: "CVT", drive: "AWD" },
                colors: ["Gris", "Bleu", "Blanc"],
                mileage: "4,000 - 9,500 km"
            },
            {
                id: 6,
                name: "Toyota Yaris",
                category: "Économique",
                price: "1,500,000 FCFA",
                stock: 15,
                image: "images/yaris.jpg",
                imageFolder: "toyota-yaris",
                specs: { year: "2023-2025", engine: "Essence 1.5L", trans: "CVT", drive: "FWD" },
                colors: ["Blanc", "Rouge", "Gris"],
                mileage: "5,000 - 10,000 km"
            },
            {
                id: 7,
                name: "Mitsubishi L200 (Triton)",
                category: "Pick-up / Utilitaire",
                price: "3,200,000 FCFA",
                stock: 12,
                image: "images/Mutsibushi.jpg",
                imageFolder: "mitsubishi-l200",
                specs: { year: "2024", engine: "Diesel 2.4L", trans: "Manuelle/Auto", drive: "4x4" },
                colors: ["Blanc", "Gris"],
                mileage: "2,500 - 7,000 km"
            },
            {
                id: 8,
                name: "Hyundai Tucson",
                category: "Crossover SUV",
                price: "2,800,000 FCFA",
                stock: 5,
                image: "images/tucson.jpg",
                imageFolder: "hyundai-tucson",
                specs: { year: "2024", engine: "Essence 2.0L", trans: "Automatique", drive: "FWD/AWD" },
                colors: ["Blanc", "Noir", "Gris"],
                mileage: "1,000 - 4,000 km"
            },
            {
                id: 9,
                name: "Toyota Urban Cruiser",
                category: "Crossover",
                price: "2,200,000 FCFA",
                stock: 10,
                image: "images/urban-cruiser.jpg",
                imageFolder: "toyota-urban-cruiser",
                specs: { year: "2024", engine: "Essence 1.5L", trans: "Automatique", drive: "FWD" },
                colors: ["Blanc", "Orange", "Bleu"],
                mileage: "3,500 - 8,500 km"
            },
            {
                id: 10,
                name: "Kia Sorento",
                category: "Économique",
                price: "3,200,000 FCFA",
                stock: 10,
                image: "images/sorento.jpg",
                imageFolder: "kia-sorento",
                specs: { year: "2024", engine: "Essence 1.2L", trans: "Automatique", drive: "FWD" },
                colors: ["Blanc", "Rouge", "Jaune"],
                mileage: "6,000 - 9,000 km"
            },
            {
                id: 11,
                name: "Toyota Corolla",
                category: "Berline",
                price: "2,100,000 FCFA",
                stock: 12,
                image: "images/corolla-toyota.jpg",
                imageFolder: "toyota-corolla",
                specs: { year: "2024", engine: "Essence 1.0L", trans: "Manuelle/AGS", drive: "FWD" },
                colors: ["Blanc", "Bleu", "Gris"],
                mileage: "2,000 - 6,000 km"
            },
            {
                id: 12,
                name: "Hyundai Accent",
                category: "Berline Économique",
                price: "1,800,000 FCFA",
                stock: 8,
                image: "images/hyundai-accent.jpg",
                imageFolder: "hyundai-accent",
                specs: { year: "2024", engine: "Essence 1.4L", trans: "Automatique", drive: "FWD" },
                colors: ["Blanc", "Gris", "Noir"],
                mileage: "4,500 - 9,500 km"
            },
            {
                id: 13,
                name: "Kia Sportage",
                category: "Crossover SUV",
                price: "2,700,000 FCFA",
                stock: 4,
                image: "images/sportage.jpg",
                imageFolder: "kia-sportage",
                specs: { year: "2024", engine: "Essence 2.0L", trans: "Automatique", drive: "FWD/AWD" },
                colors: ["Blanc", "Noir"],
                mileage: "1,500 - 5,500 km"
            },
            {
                id: 14,
                name: "Suzuki Grand Vitara",
                category: "Crossover SUV",
                price: "2,400,000 FCFA",
                stock: 7,
                image: "images/suziki-grand.jpg",
                imageFolder: "suzuki-grand-vitara",
                specs: { year: "2024", engine: "Essence 1.5L Hybrid", trans: "Automatique", drive: "FWD/AWD" },
                colors: ["Blanc", "Bleu Foncé", "Gris"],
                mileage: "2,500 - 7,500 km"
            },
            {
                id: 15,
                name: "Toyota Corolla Cross",
                category: "SUV",
                price: "2,600,000 FCFA",
                stock: 4,
                image: "images/corolla-cross.jpg",
                imageFolder: "toyota-corolla-cross",
                specs: { year: "2024", engine: "Essence 1.8L Hybrid", trans: "CVT", drive: "FWD" },
                colors: ["Blanc", "Gris Métallique"],
                mileage: "3,000 - 8,000 km"
            }
        ];

        // Get ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const vehicleId = parseInt(urlParams.get('id'));

        // Find Vehicle
        const vehicle = vehicles.find(v => v.id === vehicleId);

        if (vehicle) {
            // Update Page Content
            document.title = `${vehicle.name} | Détails`;
            document.getElementById('breadcrumb-name').textContent = vehicle.name;

            // Gallery State
            let galleryImages = [];
            let currentImageIndex = 0;

            // Vehicle image file mappings (exact extensions for each file)
            const vehicleImageFiles = {
                'toyota-hilux': ['jpg', 'jpg', 'jpg', 'jpg', 'jpg'],
                'toyota-land-cruiser-300': ['jpg', 'jpg', 'jpg', 'jpg', 'jpg', 'webp', 'webp'],
                'toyota-prado': ['jpg', 'jpg'],
                'toyota-fortuner': ['jpg', 'jpg', 'jpg'],
                'toyota-rav4': ['jpg', 'jpg'],
                'toyota-yaris': ['webp', 'webp', 'jpg', 'jpg'],
                'mitsubishi-l200': ['webp', 'jpg'],
                'hyundai-tucson': ['webp', 'webp', 'webp', 'webp', 'webp'],
                'toyota-urban-cruiser': ['webp', 'webp', 'webp', 'webp', 'webp'],
                'kia-sorento': ['webp', 'webp', 'webp'],
                'toyota-corolla': ['webp', 'webp', 'jpg'],
                'hyundai-accent': ['jpeg', 'jpeg'],
                'kia-sportage': ['webp', 'webp', 'webp'],
                'suzuki-grand-vitara': ['webp', 'webp', 'webp', 'webp'],
                'toyota-corolla-cross': ['webp', 'jpeg', 'jpg']
            };

            /**
             * Load gallery images: catalogue first, then folder images
             */
            function loadGalleryImages(vehicle) {
                galleryImages = [];

                // Add catalogue image first
                galleryImages.push({
                    src: vehicle.image,
                    alt: `${vehicle.name} - Image catalogue`
                });

                // Load images from vehicle folder if it exists
                if (vehicle.imageFolder) {
                    const folderPath = `images/vehicles/${vehicle.imageFolder}`;
                    const folderName = vehicle.imageFolder;
                    const imageFiles = vehicleImageFiles[folderName] || [];

                    imageFiles.forEach((extension, index) => {
                        galleryImages.push({
                            src: `${folderPath}/${folderName}-${index + 1}.${extension}`,
                            alt: `${vehicle.name} - Image ${index + 2}`
                        });
                    });
                }

                currentImageIndex = 0;
                updateGalleryDisplay();
            }

            /**
             * Update gallery display
             */
            function updateGalleryDisplay() {
                const currentImageEl = document.getElementById('gallery-current-image');
                const currentIndexEl = document.getElementById('gallery-current-index');
                const totalImagesEl = document.getElementById('gallery-total-images');
                const prevBtn = document.getElementById('gallery-prev-btn');
                const nextBtn = document.getElementById('gallery-next-btn');

                if (!currentImageEl || galleryImages.length === 0) return;

                const currentImage = galleryImages[currentImageIndex];
                currentImageEl.src = currentImage.src;
                currentImageEl.alt = currentImage.alt;

                // Update counter
                currentIndexEl.textContent = currentImageIndex + 1;
                totalImagesEl.textContent = galleryImages.length;

                // Update navigation buttons
                prevBtn.disabled = currentImageIndex === 0;
                nextBtn.disabled = currentImageIndex === galleryImages.length - 1;

                // Update thumbnails
                updateThumbnails();

                // Error handling
                currentImageEl.onerror = function() {
                    this.style.display = 'none';
                    this.parentElement.innerHTML +=
                        '<div style="height:100%; display:flex; align-items:center; justify-content:center; color:#999;">Image indisponible</div>';
                };
            }

            /**
             * Navigate to previous image
             */
            function navigatePrevious() {
                if (currentImageIndex > 0) {
                    currentImageIndex--;
                    updateGalleryDisplay();
                }
            }

            /**
             * Navigate to next image
             */
            function navigateNext() {
                if (currentImageIndex < galleryImages.length - 1) {
                    currentImageIndex++;
                    updateGalleryDisplay();
                }
            }

            /**
             * Navigate to specific image
             */
            function navigateToImage(index) {
                if (index >= 0 && index < galleryImages.length) {
                    currentImageIndex = index;
                    updateGalleryDisplay();
                }
            }

            /**
             * Update thumbnail strip
             */
            function updateThumbnails() {
                const thumbnailsContainer = document.getElementById('gallery-thumbnails');
                if (!thumbnailsContainer) return;

                thumbnailsContainer.innerHTML = '';

                galleryImages.forEach((imageData, index) => {
                    const thumbnail = document.createElement('div');
                    thumbnail.className = 'gallery-thumbnail';
                    if (index === currentImageIndex) {
                        thumbnail.classList.add('active');
                    }

                    const thumbnailImg = document.createElement('img');
                    thumbnailImg.src = imageData.src;
                    thumbnailImg.alt = imageData.alt;

                    thumbnail.appendChild(thumbnailImg);
                    thumbnail.addEventListener('click', () => navigateToImage(index));

                    thumbnailsContainer.appendChild(thumbnail);
                });
            }

            // Initialize gallery
            loadGalleryImages(vehicle);

            // Setup event listeners
            document.getElementById('gallery-prev-btn')?.addEventListener('click', navigatePrevious);
            document.getElementById('gallery-next-btn')?.addEventListener('click', navigateNext);

            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') navigatePrevious();
                if (e.key === 'ArrowRight') navigateNext();
            });

            // Insert Mobile Title above image
            const imageContainer = document.querySelector('.detail-image-gallery');
            const mobileTitle = document.createElement('h1');
            mobileTitle.className = 'mobile-title';
            mobileTitle.textContent = vehicle.name;
            imageContainer.parentNode.insertBefore(mobileTitle, imageContainer);

            // Format colors
            const colorsHtml = vehicle.colors.join(', ');

            const infoBox = document.querySelectorAll('.detail-info-box')[1]; // The second one (Right Column)
            infoBox.innerHTML = `
                <h1 id="vehicle-name" class="desktop-title" style="font-size: 24px; color: var(--color-primary); margin-bottom: 10px;">${vehicle.name}</h1>
                <div style="font-size: 14px; color: var(--color-gray); margin-bottom: 20px;">Lot #${4800 + vehicle.id} • Ouagadougou</div>
                
                <div style="background: #f0f7ff; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
                    <div style="font-size: 14px; color: var(--color-gray);">Prix de Mise à Prix Estimé</div>
                    <div class="vehicle-detail-price" style="font-size: 24px; font-weight: 700; color: var(--color-accent-green);">${vehicle.price}</div>
                </div>

                <table class="spec-table">
                    <tr>
                        <td class="spec-label">Kilométrage</td>
                        <td class="spec-value">${vehicle.mileage}</td>
                    </tr>
                    <tr>
                        <td class="spec-label">Couleurs Disponibles</td>
                        <td class="spec-value">${colorsHtml}</td>
                    </tr>
                    <tr>
                        <td class="spec-label">Catégorie</td>
                        <td class="spec-value">${vehicle.category}</td>
                    </tr>
                    <tr>
                        <td class="spec-label">État du Véhicule</td>
                        <td class="spec-value" style="color: var(--color-accent-green);">Excellent (8/10)</td>
                    </tr>
                    <tr>
                        <td class="spec-label">Disponibilité</td>
                        <td class="spec-value">${vehicle.stock} Unités</td>
                    </tr>
                    <tr>
                        <td class="spec-label">Statut Douanier</td>
                        <td class="spec-value" style="color: #2e7d32; font-weight: 600;">
                            <i class="fas fa-check-circle"></i> Dédouané (Taxes Payées)
                        </td>
                    </tr>
                </table>

                <div style="margin-top: 30px;">
                    <a href="inscription.html?vehicle=${vehicle.id}&name=${encodeURIComponent(vehicle.name)}&image=${encodeURIComponent(vehicle.image)}&price=${encodeURIComponent(vehicle.price)}" class="btn-black-red" style="display: block; text-align: center; margin-bottom: 15px; background-color: var(--color-accent-green); border-color: var(--color-accent-green);">Obtenir ce Véhicule</a>
                    <a href="javascript:void(0)" onclick="openAgentWhatsApp('Je suis intéressé par ${vehicle.name}')" class="btn-secondary" style="display: block; text-align: center; background-color: var(--color-black); border-color: var(--color-black); color: var(--color-white);">Contacter un Agent</a>
                </div>
            `;

            // Calculate 30% Reservation Amount
            const priceString = vehicle.price.replace(/[^0-9]/g, '');
            const price = parseInt(priceString);
            const reservationAmount = Math.floor(price * 0.30);
            const formattedReservation = reservationAmount.toLocaleString('fr-FR') + ' FCFA';

            // Update Specs (Left Column) - Removed Documents section
            const specsBox = document.querySelectorAll('.detail-info-box')[0];
            const documentsBox = document.querySelectorAll('.detail-info-box')[2]; // The documents box

            // Update documents box with Reservation Info
            if (documentsBox) {
                documentsBox.innerHTML = `
                    <div style="margin-top: 0; padding: 20px; border: 1px solid #eee; border-radius: 8px; background: #fff;">
                        <h4 style="margin-bottom: 5px; font-size: 16px; color: #333;">Réservation Immédiate</h4>
                        <p style="font-size: 13px; color: #666; margin-bottom: 20px;">
                            Sécurisez ce véhicule au <strong>prix affiché (sans enchère)</strong> en payant l'acompte de 30%.
                        </p>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px;">
                                <span style="color: #666;">Prix Véhicule</span>
                                <span style="font-weight: 500;">${vehicle.price}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding-top: 10px; border-top: 1px solid #f5f5f5;">
                                <span style="font-weight: 600; color: #333;">Acompte (30%)</span>
                                <span style="font-size: 18px; font-weight: 700; color: var(--color-primary);">${formattedReservation}</span>
                            </div>
                        </div>

                        <div style="font-size: 12px; color: #999; margin-top: 15px;">
                            + 100,000 FCFA de frais de participation.
                        </div>
                    </div>
                `;
            }

            if (vehicle.specs) {
                specsBox.innerHTML = `
                    <h3 style="border-bottom: 2px solid #eee; padding-bottom: 10px; margin-bottom: 20px;">Caractéristiques Générales</h3>
                    <table class="spec-table">
                        <tr>
                            <td class="spec-label">Année Modèle</td>
                            <td class="spec-value">${vehicle.specs.year}</td>
                        </tr>
                        <tr>
                            <td class="spec-label">Moteur</td>
                            <td class="spec-value">${vehicle.specs.engine}</td>
                        </tr>
                        <tr>
                            <td class="spec-label">Transmission</td>
                            <td class="spec-value">${vehicle.specs.trans}</td>
                        </tr>
                        <tr>
                            <td class="spec-label">Entraînement</td>
                            <td class="spec-value">${vehicle.specs.drive}</td>
                        </tr>
                    </table>
                `;
            }

        } else {
            // ID not found
            document.querySelector('.detail-container').innerHTML = '<div style="text-align:center; padding:50px;"><h2>Véhicule non trouvé</h2><a href="catalogue.html" class="btn-primary">Retour au Catalogue</a></div>';
        }
    </script>
</body>

</html>